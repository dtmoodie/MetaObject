version: 1.0.{build}
clone_depth: 5

environment:
  QTDIR32: C:\Qt\5.7\msvc2015
  QTDIR64: C:\Qt\5.7\msvc2015_64
  GENERATOR64: "Visual Studio 14 Win64"
  GENERATOR32: "Visual Studio 14"
  CONFIG: Release
  BOOST_ROOT: C:\Libraries\boost_1_62_0

configuration:
  - Release

image:
- Previous Visual Studio 2017
- Visual Studio 2017
- Visual Studio 2015
- Ubuntu
- Previous Ubuntu

- cmd: >-
   if not exist "build" mkdir build
   cd build
   cmake .. -DBOOST_ROOT=C:\Libraries\boost_1_67_0 -DBOOST_LIBRARYDIR=C:\Libraries\boost_1_67_0\stage\lib -DBUILD_EXAMPLES=OFF

- sh: >-
    mkdir -p build
    cd build
    cmake .. -DBOOST_ROOT=C:\Libraries\boost_1_67_0 -DBOOST_LIBRARYDIR=C:\Libraries\boost_1_67_0\stage\lib

build_script:
- cmd: >-
    msbuild ct.sln
- sh: make

